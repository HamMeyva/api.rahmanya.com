# --- ðŸ“Œ Start::Response Models ---
type CoinWithdrawalRequest {
    id: ID!
    user_id: ID!
    user: User @belongsTo
    coin_amount: Int!
    coin_unit_price: Float!
    coin_total_price: Float!
    currency_id: Int!
    currency: Currency @belongsTo
    status_id: Int!
    get_status: String!
    reject_reason: String
    approved_at: DateTime 
    created_at: DateTime!
    updated_at: DateTime!
}

type CoinWithdrawalRequestStatus {
  id: Int!
  name: String!
}

type CreateCoinWithdrawalRequestResponse {
    success: Boolean!
    message: String
    withdrawal_request: CoinWithdrawalRequest
}
# --- ðŸ“Œ End::Response Models ---

# --- ðŸ“Œ Start::Input Models ---
input CreateCoinWithdrawalRequestInput {
    coin_amount: Int!
    currency_id: Int!
}

input GetCoinWithdrawalRequestInput {
    page: Int!
    limit: Int!
    status_id: Int
}
# --- ðŸ“Œ End::Input Models ---

# --- ðŸ“Œ Start::Query ---
extend type Query {
    getCoinWithdrawalRequests(input: GetCoinWithdrawalRequestInput): [CoinWithdrawalRequest!]
        @guard(with: ["sanctum"])
        @field(resolver: "App\\GraphQL\\Resolvers\\CoinWithdrawalRequestResolver@index")
        
    getCoinWithdrawalRequestStatuses: [CoinWithdrawalRequestStatus!]! 
        @guard(with: ["sanctum"])
        @field(resolver: "App\\GraphQL\\Resolvers\\CoinWithdrawalRequestResolver@getStatuses")
}
# --- ðŸ“Œ End::Query ---

# --- ðŸ“Œ Start::Mutations ---
extend type Mutation {
    # Ã‡ekim talebi oluÅŸturmak
    createCoinWithdrawalRequest(input: CreateCoinWithdrawalRequestInput!): CreateCoinWithdrawalRequestResponse!
        @guard(with: ["sanctum"])
        @field(resolver: "App\\GraphQL\\Resolvers\\CoinWithdrawalRequestResolver@store")
}
# --- ðŸ“Œ End::Mutations ---