# --- ðŸ“Œ Start::Response Models ---
type CoinPackage {
    id: ID!
    coin_amount: Int!
    price: Float!
    is_discount: Boolean
    discounted_price: Float
    currency_id: ID!
    currency: Currency @belongsTo
    is_active: Boolean!
    country_id: ID!
    country: Country @belongsTo
}

type PurchaseCoinPackageResponse {
    success: Boolean!
    message: String
    callback_url: String
    payment: Payment
}

type CreateEftPaymentResponse {
    success: Boolean!
    message: String
}
# --- ðŸ“Œ End::Response Models ---

# --- ðŸ“Œ Start::Input Models ---
input PurchaseCoinPackageInput {
    coin_package_id: ID!,
    coupon_code: String
}

input CreateEftPaymentInput {
    coin_package_id: ID!
    coupon_code: String
}
# --- ðŸ“Œ End::Input Models ---

# --- ðŸ“Œ Start::Query ---
extend type Query {
    getCoinPackages(country_id: ID): [CoinPackage!]!
        @guard(with: ["sanctum"])
        @field(resolver: "App\\GraphQL\\Resolvers\\CoinPackageResolver@index")
}
# --- ðŸ“Œ End::Query ---

# --- ðŸ“Œ Start::Mutations ---
extend type Mutation {
    # Coin Package satÄ±n alma
    purchaseCoinPackage(
        input: PurchaseCoinPackageInput!
    ): PurchaseCoinPackageResponse!
        @guard(with: ["sanctum"])
        @field(
            resolver: "App\\GraphQL\\Resolvers\\CoinPackageResolver@purchase"
        )

    # Eft Ã¶demesi ile Coin Package satÄ±n alma
    createEftPayment(input: CreateEftPaymentInput!): CreateEftPaymentResponse!
        @guard(with: ["sanctum"])
        @field(
            resolver: "App\\GraphQL\\Resolvers\\CoinPackageResolver@createEftPayment"
        )
}
# --- ðŸ“Œ End::Mutations ---
